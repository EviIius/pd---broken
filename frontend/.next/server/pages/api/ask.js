"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/ask";
exports.ids = ["pages/api/ask"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "@google/generative-ai":
/*!****************************************!*\
  !*** external "@google/generative-ai" ***!
  \****************************************/
/***/ ((module) => {

module.exports = import("@google/generative-ai");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fask&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cask.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fask&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cask.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_ask_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\ask.ts */ \"(api)/./pages/api/ask.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_ask_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_ask_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_ask_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_ask_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/ask\",\n        pathname: \"/api/ask\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_ask_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFzayZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYXNrLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2lEO0FBQ2pEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw4Q0FBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsOENBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvPzVmMTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxhc2sudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hc2tcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hc2tcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fask&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cask.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/ask.ts":
/*!**************************!*\
  !*** ./pages/api/ask.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"@google/generative-ai\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_google_generative_ai__WEBPACK_IMPORTED_MODULE_0__]);\n_google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Initialize Gemini\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY || \"\");\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        try {\n            const { question, selected_documents } = req.body;\n            if (!question) {\n                return res.status(400).json({\n                    answer: \"\",\n                    error: \"Question is required\"\n                });\n            }\n            // Check if Gemini API key is configured\n            if (!process.env.GEMINI_API_KEY) {\n                return res.status(500).json({\n                    answer: \"\",\n                    error: \"Gemini API key not configured. Please add GEMINI_API_KEY to your .env.local file.\"\n                });\n            }\n            // Get the Gemini model\n            const model = genAI.getGenerativeModel({\n                model: \"gemini-1.5-flash\"\n            });\n            // Build context from selected documents\n            const documentContext = selected_documents && selected_documents.length > 0 ? `\\n\\nContext Documents Selected: ${selected_documents.join(\", \")}` : \"\"; // Create a specialized prompt for banking regulations\n            const prompt = `You are a banking regulation expert. Answer this question directly and concisely using proper markdown formatting.\r\n\r\nQuestion: ${question}${documentContext}\r\n\r\nRequirements:\r\n- Keep response under 150 words\r\n- Be direct and specific\r\n- Focus only on what was asked\r\n- Use **bold text** for key terms and important points\r\n- Use bullet points (- or *) for lists\r\n- Use proper markdown formatting for better readability\r\n- Avoid explanatory text about what you're doing\r\n\r\nAnswer:`; // Generate response using Gemini\n            const result = await model.generateContent(prompt);\n            const response = await result.response;\n            let answer = response.text();\n            // If response is too long, ask for a shorter version\n            if (answer.length > 800) {\n                const shorterPrompt = `Make this response much shorter and more direct (under 100 words):\r\n\r\n${answer}\r\n\r\nShorter version:`;\n                try {\n                    const shorterResult = await model.generateContent(shorterPrompt);\n                    const shorterResponse = await shorterResult.response;\n                    answer = shorterResponse.text();\n                } catch (error) {\n                    // If shortening fails, just truncate\n                    answer = answer.substring(0, 800) + \"...\";\n                }\n            }\n            // Generate relevant sources based on the question topic\n            const sources = generateRelevantSources(question); // Mock response structure with Gemini-generated content\n            const responseData = {\n                answer,\n                sources,\n                context_documents_used: selected_documents?.length || sources.length,\n                confidence: \"92%\" // Higher confidence for focused responses\n            };\n            return res.status(200).json(responseData);\n        } catch (error) {\n            console.error(\"Error calling Gemini API:\", error);\n            // Handle quota exceeded with a helpful mock response\n            if (error instanceof Error && (error.message.includes(\"quota\") || error.message.includes(\"429\"))) {\n                return res.status(200).json({\n                    answer: `# API Quota Exceeded - Mock Response\r\n\r\nI'm currently operating in **mock mode** because the Gemini API quota has been exceeded. This is a simulated response to demonstrate the application functionality.\r\n\r\n## Key Banking Regulation Points:\r\n\r\n- **Capital Requirements**: Banks must maintain minimum capital ratios under Basel III\r\n- **Liquidity Standards**: LCR and NSFR requirements ensure adequate funding  \r\n- **Risk Management**: Comprehensive frameworks for operational and credit risk\r\n- **Compliance**: Regular reporting and examination requirements\r\n\r\n### Important Notes:\r\n> This is a demonstration response. The actual AI service will resume when the API quota resets.\r\n\r\nFor more information, please refer to the \\`Federal Reserve\\` guidance documents.`,\n                    sources: [\n                        {\n                            title: \"Federal Reserve Regulation (Mock Source)\",\n                            source_url: \"https://www.federalreserve.gov/supervisionreg/\",\n                            regulation_type: \"Federal Reserve Guidance\",\n                            document_type: \"Guidelines\"\n                        }\n                    ],\n                    context_documents_used: 1,\n                    confidence: \"mock\"\n                });\n            }\n            return res.status(500).json({\n                answer: \"\",\n                error: \"Failed to generate response. Please check your API key and try again.\"\n            });\n        }\n    } else {\n        return res.status(405).json({\n            answer: \"\",\n            error: \"Method not allowed\"\n        });\n    }\n}\n// Helper function to generate relevant sources based on question keywords\nfunction generateRelevantSources(question) {\n    const lowerQuestion = question.toLowerCase();\n    if (lowerQuestion.includes(\"fry\")) {\n        return [\n            {\n                title: \"FRY-9C Instructions - Consolidated Financial Statements for Small Bank Holding Companies\",\n                source_url: \"https://www.federalreserve.gov/reportforms/forms/FR_Y-9C20240331_f.pdf\",\n                regulation_type: \"Federal Reserve Regulation\",\n                document_type: \"Regulatory Instructions\"\n            },\n            {\n                title: \"FRY-14A/Q Instructions - Recovery and Resolution Planning for Large Bank Holding Companies\",\n                source_url: \"https://www.federalreserve.gov/reportforms/forms/FR_Y-14A20240331_f.pdf\",\n                regulation_type: \"Federal Reserve Regulation\",\n                document_type: \"Regulatory Instructions\"\n            }\n        ];\n    } else if (lowerQuestion.includes(\"stress\")) {\n        return [\n            {\n                title: \"Capital Planning and Stress Testing Guidelines for Large Bank Holding Companies\",\n                source_url: \"https://www.federalreserve.gov/newsevents/pressreleases/bcreg20230629a.htm\",\n                regulation_type: \"Federal Reserve Regulation\",\n                document_type: \"Regulatory Guidance\"\n            }\n        ];\n    } else if (lowerQuestion.includes(\"liquidity\")) {\n        return [\n            {\n                title: \"Liquidity Coverage Ratio (LCR) Final Rule Implementation Guide\",\n                source_url: \"https://www.federalreserve.gov/newsevents/pressreleases/bcreg20140903a.htm\",\n                regulation_type: \"Federal Reserve Regulation\",\n                document_type: \"Regulatory Guidance\"\n            },\n            {\n                title: \"Net Stable Funding Ratio (NSFR) Requirements and Calculation Methods\",\n                source_url: \"https://www.federalreserve.gov/newsevents/pressreleases/bcreg20210520a.htm\",\n                regulation_type: \"Federal Reserve Regulation\",\n                document_type: \"Regulatory Guidance\"\n            }\n        ];\n    } else if (lowerQuestion.includes(\"cybersecurity\")) {\n        return [\n            {\n                title: \"Cybersecurity and Information Technology Risk Management Guidelines\",\n                source_url: \"https://www.federalreserve.gov/supervisionreg/srletters/sr2301.htm\",\n                regulation_type: \"Federal Reserve Regulation\",\n                document_type: \"Supervisory Guidance\"\n            }\n        ];\n    } else if (lowerQuestion.includes(\"model\")) {\n        return [\n            {\n                title: \"Model Risk Management Guidance for Banking Organizations\",\n                source_url: \"https://www.federalreserve.gov/supervisionreg/srletters/sr1107.htm\",\n                regulation_type: \"Federal Reserve Regulation\",\n                document_type: \"Supervisory Guidance\"\n            }\n        ];\n    } else if (lowerQuestion.includes(\"compliance\") || lowerQuestion.includes(\"aml\") || lowerQuestion.includes(\"bsa\")) {\n        return [\n            {\n                title: \"Anti-Money Laundering Program Requirements and Examination Procedures\",\n                source_url: \"https://www.fincen.gov/resources/statutes-regulations/guidance/application-fincens-regulations-certain-business-models\",\n                regulation_type: \"FinCEN Regulation\",\n                document_type: \"Regulatory Guidance\"\n            }\n        ];\n    } else if (lowerQuestion.includes(\"capital\")) {\n        return [\n            {\n                title: \"Capital Planning and Stress Testing Guidelines for Large Bank Holding Companies\",\n                source_url: \"https://www.federalreserve.gov/newsevents/pressreleases/bcreg20230629a.htm\",\n                regulation_type: \"Federal Reserve Regulation\",\n                document_type: \"Regulatory Guidance\"\n            }\n        ];\n    }\n    // Default sources for general banking regulation questions\n    return [\n        {\n            title: \"Federal Banking Regulation - Supervisory Guidance\",\n            source_url: \"https://www.federalreserve.gov/supervisionreg/srletters/sr2301.htm\",\n            regulation_type: \"Federal Banking Regulation\",\n            document_type: \"Supervisory Guidance\"\n        }\n    ];\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXNrLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQzJEO0FBb0IzRCxvQkFBb0I7QUFDcEIsTUFBTUMsUUFBUSxJQUFJRCxxRUFBa0JBLENBQUNFLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxJQUFJO0FBRXBELGVBQWVDLFFBQzVCQyxHQUFtQixFQUNuQkMsR0FBa0M7SUFFbEMsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDekIsSUFBSTtZQUNGLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxrQkFBa0IsRUFBRSxHQUFnQkosSUFBSUssSUFBSTtZQUU5RCxJQUFJLENBQUNGLFVBQVU7Z0JBQ2IsT0FBT0YsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFDMUJDLFFBQVE7b0JBQ1JDLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLHdDQUF3QztZQUN4QyxJQUFJLENBQUNiLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxFQUFFO2dCQUMvQixPQUFPRyxJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUMxQkMsUUFBUTtvQkFDUkMsT0FBTztnQkFDVDtZQUNGO1lBRUEsdUJBQXVCO1lBQ3ZCLE1BQU1DLFFBQVFmLE1BQU1nQixrQkFBa0IsQ0FBQztnQkFBRUQsT0FBTztZQUFtQjtZQUVuRSx3Q0FBd0M7WUFDeEMsTUFBTUUsa0JBQWtCUixzQkFBc0JBLG1CQUFtQlMsTUFBTSxHQUFHLElBQ3RFLENBQUMsZ0NBQWdDLEVBQUVULG1CQUFtQlUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUNsRSxJQUFTLHNEQUFzRDtZQUNuRSxNQUFNQyxTQUFTLENBQUM7O1VBRVosRUFBRVosU0FBUyxFQUFFUyxnQkFBZ0I7Ozs7Ozs7Ozs7O09BV2hDLENBQUMsRUFBQyxpQ0FBaUM7WUFDcEMsTUFBTUksU0FBUyxNQUFNTixNQUFNTyxlQUFlLENBQUNGO1lBQzNDLE1BQU1HLFdBQVcsTUFBTUYsT0FBT0UsUUFBUTtZQUN0QyxJQUFJVixTQUFTVSxTQUFTQyxJQUFJO1lBRTFCLHFEQUFxRDtZQUNyRCxJQUFJWCxPQUFPSyxNQUFNLEdBQUcsS0FBSztnQkFDdkIsTUFBTU8sZ0JBQWdCLENBQUM7O0FBRS9CLEVBQUVaLE9BQU87O2dCQUVPLENBQUM7Z0JBRVQsSUFBSTtvQkFDRixNQUFNYSxnQkFBZ0IsTUFBTVgsTUFBTU8sZUFBZSxDQUFDRztvQkFDbEQsTUFBTUUsa0JBQWtCLE1BQU1ELGNBQWNILFFBQVE7b0JBQ3BEVixTQUFTYyxnQkFBZ0JILElBQUk7Z0JBQy9CLEVBQUUsT0FBT1YsT0FBTztvQkFDZCxxQ0FBcUM7b0JBQ3JDRCxTQUFTQSxPQUFPZSxTQUFTLENBQUMsR0FBRyxPQUFPO2dCQUN0QztZQUNGO1lBRUEsd0RBQXdEO1lBQ3hELE1BQU1DLFVBQVVDLHdCQUF3QnRCLFdBQWdCLHdEQUF3RDtZQUNoSCxNQUFNdUIsZUFBNkI7Z0JBQ2pDbEI7Z0JBQ0FnQjtnQkFDQUcsd0JBQXdCdkIsb0JBQW9CUyxVQUFVVyxRQUFRWCxNQUFNO2dCQUNwRWUsWUFBWSxNQUFNLDBDQUEwQztZQUM5RDtZQUFRLE9BQU8zQixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDbUI7UUFDdEMsRUFBRSxPQUFPakIsT0FBTztZQUNkb0IsUUFBUXBCLEtBQUssQ0FBQyw2QkFBNkJBO1lBRTNDLHFEQUFxRDtZQUNyRCxJQUFJQSxpQkFBaUJxQixTQUFVckIsQ0FBQUEsTUFBTXNCLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLFlBQVl2QixNQUFNc0IsT0FBTyxDQUFDQyxRQUFRLENBQUMsTUFBSyxHQUFJO2dCQUFTLE9BQU8vQixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUNuSUMsUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7OztpRkFjOEQsQ0FBQztvQkFBQ2dCLFNBQVM7d0JBQ2hGOzRCQUNFUyxPQUFPOzRCQUNQQyxZQUFZOzRCQUNaQyxpQkFBaUI7NEJBQ2pCQyxlQUFlO3dCQUNqQjtxQkFDRDtvQkFDRFQsd0JBQXdCO29CQUN4QkMsWUFBWTtnQkFDZDtZQUNGO1lBRUEsT0FBTzNCLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQzFCQyxRQUFRO2dCQUNSQyxPQUFPO1lBQ1Q7UUFDRjtJQUNGLE9BQU87UUFDTCxPQUFPUixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxRQUFRO1lBQ1JDLE9BQU87UUFDVDtJQUNGO0FBQ0Y7QUFFQSwwRUFBMEU7QUFDMUUsU0FBU2dCLHdCQUF3QnRCLFFBQWdCO0lBQy9DLE1BQU1rQyxnQkFBZ0JsQyxTQUFTbUMsV0FBVztJQUUxQyxJQUFJRCxjQUFjTCxRQUFRLENBQUMsUUFBUTtRQUNqQyxPQUFPO1lBQ0w7Z0JBQ0VDLE9BQU87Z0JBQ1BDLFlBQVk7Z0JBQ1pDLGlCQUFpQjtnQkFDakJDLGVBQWU7WUFDakI7WUFDQTtnQkFDRUgsT0FBTztnQkFDUEMsWUFBWTtnQkFDWkMsaUJBQWlCO2dCQUNqQkMsZUFBZTtZQUNqQjtTQUNEO0lBQ0gsT0FBTyxJQUFJQyxjQUFjTCxRQUFRLENBQUMsV0FBVztRQUMzQyxPQUFPO1lBQ0w7Z0JBQ0VDLE9BQU87Z0JBQ1BDLFlBQVk7Z0JBQ1pDLGlCQUFpQjtnQkFDakJDLGVBQWU7WUFDakI7U0FDRDtJQUNILE9BQU8sSUFBSUMsY0FBY0wsUUFBUSxDQUFDLGNBQWM7UUFDOUMsT0FBTztZQUNMO2dCQUNFQyxPQUFPO2dCQUNQQyxZQUFZO2dCQUNaQyxpQkFBaUI7Z0JBQ2pCQyxlQUFlO1lBQ2pCO1lBQ0E7Z0JBQ0VILE9BQU87Z0JBQ1BDLFlBQVk7Z0JBQ1pDLGlCQUFpQjtnQkFDakJDLGVBQWU7WUFDakI7U0FDRDtJQUNILE9BQU8sSUFBSUMsY0FBY0wsUUFBUSxDQUFDLGtCQUFrQjtRQUNsRCxPQUFPO1lBQ0w7Z0JBQ0VDLE9BQU87Z0JBQ1BDLFlBQVk7Z0JBQ1pDLGlCQUFpQjtnQkFDakJDLGVBQWU7WUFDakI7U0FDRDtJQUNILE9BQU8sSUFBSUMsY0FBY0wsUUFBUSxDQUFDLFVBQVU7UUFDMUMsT0FBTztZQUNMO2dCQUNFQyxPQUFPO2dCQUNQQyxZQUFZO2dCQUNaQyxpQkFBaUI7Z0JBQ2pCQyxlQUFlO1lBQ2pCO1NBQ0Q7SUFDSCxPQUFPLElBQUlDLGNBQWNMLFFBQVEsQ0FBQyxpQkFBaUJLLGNBQWNMLFFBQVEsQ0FBQyxVQUFVSyxjQUFjTCxRQUFRLENBQUMsUUFBUTtRQUNqSCxPQUFPO1lBQ0w7Z0JBQ0VDLE9BQU87Z0JBQ1BDLFlBQVk7Z0JBQ1pDLGlCQUFpQjtnQkFDakJDLGVBQWU7WUFDakI7U0FDRDtJQUNILE9BQU8sSUFBSUMsY0FBY0wsUUFBUSxDQUFDLFlBQVk7UUFDNUMsT0FBTztZQUNMO2dCQUNFQyxPQUFPO2dCQUNQQyxZQUFZO2dCQUNaQyxpQkFBaUI7Z0JBQ2pCQyxlQUFlO1lBQ2pCO1NBQ0Q7SUFDSDtJQUVBLDJEQUEyRDtJQUMzRCxPQUFPO1FBQ0w7WUFDRUgsT0FBTztZQUNQQyxZQUFZO1lBQ1pDLGlCQUFpQjtZQUNqQkMsZUFBZTtRQUNqQjtLQUNEO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL3BhZ2VzL2FwaS9hc2sudHM/NjY0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSAnQGdvb2dsZS9nZW5lcmF0aXZlLWFpJztcclxuXHJcbnR5cGUgUmVxdWVzdERhdGEgPSB7XHJcbiAgcXVlc3Rpb246IHN0cmluZztcclxuICBzZWxlY3RlZF9kb2N1bWVudHM/OiBzdHJpbmdbXTtcclxufTtcclxuXHJcbnR5cGUgUmVzcG9uc2VEYXRhID0ge1xyXG4gIGFuc3dlcjogc3RyaW5nO1xyXG4gIHNvdXJjZXM/OiBBcnJheTx7XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgc291cmNlX3VybDogc3RyaW5nO1xyXG4gICAgcmVndWxhdGlvbl90eXBlOiBzdHJpbmc7XHJcbiAgICBkb2N1bWVudF90eXBlOiBzdHJpbmc7XHJcbiAgfT47XHJcbiAgY29udGV4dF9kb2N1bWVudHNfdXNlZD86IG51bWJlcjtcclxuICBjb25maWRlbmNlPzogc3RyaW5nO1xyXG4gIGVycm9yPzogc3RyaW5nO1xyXG59O1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBHZW1pbmlcclxuY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZIHx8ICcnKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZTxSZXNwb25zZURhdGE+XHJcbikge1xyXG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgcXVlc3Rpb24sIHNlbGVjdGVkX2RvY3VtZW50cyB9OiBSZXF1ZXN0RGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICBcclxuICAgICAgaWYgKCFxdWVzdGlvbikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IFxyXG4gICAgICAgICAgYW5zd2VyOiAnJyxcclxuICAgICAgICAgIGVycm9yOiAnUXVlc3Rpb24gaXMgcmVxdWlyZWQnIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiBHZW1pbmkgQVBJIGtleSBpcyBjb25maWd1cmVkXHJcbiAgICAgIGlmICghcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgYW5zd2VyOiAnJyxcclxuICAgICAgICAgIGVycm9yOiAnR2VtaW5pIEFQSSBrZXkgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBhZGQgR0VNSU5JX0FQSV9LRVkgdG8geW91ciAuZW52LmxvY2FsIGZpbGUuJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIEdlbWluaSBtb2RlbFxyXG4gICAgICBjb25zdCBtb2RlbCA9IGdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7IG1vZGVsOiBcImdlbWluaS0xLjUtZmxhc2hcIiB9KTtcclxuXHJcbiAgICAgIC8vIEJ1aWxkIGNvbnRleHQgZnJvbSBzZWxlY3RlZCBkb2N1bWVudHNcclxuICAgICAgY29uc3QgZG9jdW1lbnRDb250ZXh0ID0gc2VsZWN0ZWRfZG9jdW1lbnRzICYmIHNlbGVjdGVkX2RvY3VtZW50cy5sZW5ndGggPiAwXHJcbiAgICAgICAgPyBgXFxuXFxuQ29udGV4dCBEb2N1bWVudHMgU2VsZWN0ZWQ6ICR7c2VsZWN0ZWRfZG9jdW1lbnRzLmpvaW4oJywgJyl9YFxyXG4gICAgICAgIDogJyc7ICAgICAgLy8gQ3JlYXRlIGEgc3BlY2lhbGl6ZWQgcHJvbXB0IGZvciBiYW5raW5nIHJlZ3VsYXRpb25zXHJcbiAgICAgIGNvbnN0IHByb21wdCA9IGBZb3UgYXJlIGEgYmFua2luZyByZWd1bGF0aW9uIGV4cGVydC4gQW5zd2VyIHRoaXMgcXVlc3Rpb24gZGlyZWN0bHkgYW5kIGNvbmNpc2VseSB1c2luZyBwcm9wZXIgbWFya2Rvd24gZm9ybWF0dGluZy5cclxuXHJcblF1ZXN0aW9uOiAke3F1ZXN0aW9ufSR7ZG9jdW1lbnRDb250ZXh0fVxyXG5cclxuUmVxdWlyZW1lbnRzOlxyXG4tIEtlZXAgcmVzcG9uc2UgdW5kZXIgMTUwIHdvcmRzXHJcbi0gQmUgZGlyZWN0IGFuZCBzcGVjaWZpY1xyXG4tIEZvY3VzIG9ubHkgb24gd2hhdCB3YXMgYXNrZWRcclxuLSBVc2UgKipib2xkIHRleHQqKiBmb3Iga2V5IHRlcm1zIGFuZCBpbXBvcnRhbnQgcG9pbnRzXHJcbi0gVXNlIGJ1bGxldCBwb2ludHMgKC0gb3IgKikgZm9yIGxpc3RzXHJcbi0gVXNlIHByb3BlciBtYXJrZG93biBmb3JtYXR0aW5nIGZvciBiZXR0ZXIgcmVhZGFiaWxpdHlcclxuLSBBdm9pZCBleHBsYW5hdG9yeSB0ZXh0IGFib3V0IHdoYXQgeW91J3JlIGRvaW5nXHJcblxyXG5BbnN3ZXI6YDsvLyBHZW5lcmF0ZSByZXNwb25zZSB1c2luZyBHZW1pbmlcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZ2VuZXJhdGVDb250ZW50KHByb21wdCk7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzdWx0LnJlc3BvbnNlO1xyXG4gICAgICBsZXQgYW5zd2VyID0gcmVzcG9uc2UudGV4dCgpO1xyXG5cclxuICAgICAgLy8gSWYgcmVzcG9uc2UgaXMgdG9vIGxvbmcsIGFzayBmb3IgYSBzaG9ydGVyIHZlcnNpb25cclxuICAgICAgaWYgKGFuc3dlci5sZW5ndGggPiA4MDApIHtcclxuICAgICAgICBjb25zdCBzaG9ydGVyUHJvbXB0ID0gYE1ha2UgdGhpcyByZXNwb25zZSBtdWNoIHNob3J0ZXIgYW5kIG1vcmUgZGlyZWN0ICh1bmRlciAxMDAgd29yZHMpOlxyXG5cclxuJHthbnN3ZXJ9XHJcblxyXG5TaG9ydGVyIHZlcnNpb246YDtcclxuICAgICAgICBcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3Qgc2hvcnRlclJlc3VsdCA9IGF3YWl0IG1vZGVsLmdlbmVyYXRlQ29udGVudChzaG9ydGVyUHJvbXB0KTtcclxuICAgICAgICAgIGNvbnN0IHNob3J0ZXJSZXNwb25zZSA9IGF3YWl0IHNob3J0ZXJSZXN1bHQucmVzcG9uc2U7XHJcbiAgICAgICAgICBhbnN3ZXIgPSBzaG9ydGVyUmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAvLyBJZiBzaG9ydGVuaW5nIGZhaWxzLCBqdXN0IHRydW5jYXRlXHJcbiAgICAgICAgICBhbnN3ZXIgPSBhbnN3ZXIuc3Vic3RyaW5nKDAsIDgwMCkgKyBcIi4uLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gR2VuZXJhdGUgcmVsZXZhbnQgc291cmNlcyBiYXNlZCBvbiB0aGUgcXVlc3Rpb24gdG9waWNcclxuICAgICAgY29uc3Qgc291cmNlcyA9IGdlbmVyYXRlUmVsZXZhbnRTb3VyY2VzKHF1ZXN0aW9uKTsgICAgICAvLyBNb2NrIHJlc3BvbnNlIHN0cnVjdHVyZSB3aXRoIEdlbWluaS1nZW5lcmF0ZWQgY29udGVudFxyXG4gICAgICBjb25zdCByZXNwb25zZURhdGE6IFJlc3BvbnNlRGF0YSA9IHtcclxuICAgICAgICBhbnN3ZXIsXHJcbiAgICAgICAgc291cmNlcyxcclxuICAgICAgICBjb250ZXh0X2RvY3VtZW50c191c2VkOiBzZWxlY3RlZF9kb2N1bWVudHM/Lmxlbmd0aCB8fCBzb3VyY2VzLmxlbmd0aCxcclxuICAgICAgICBjb25maWRlbmNlOiAnOTIlJyAvLyBIaWdoZXIgY29uZmlkZW5jZSBmb3IgZm9jdXNlZCByZXNwb25zZXNcclxuICAgICAgfTsgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocmVzcG9uc2VEYXRhKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbGxpbmcgR2VtaW5pIEFQSTonLCBlcnJvcik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBIYW5kbGUgcXVvdGEgZXhjZWVkZWQgd2l0aCBhIGhlbHBmdWwgbW9jayByZXNwb25zZVxyXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygncXVvdGEnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCc0MjknKSkpIHsgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBhbnN3ZXI6IGAjIEFQSSBRdW90YSBFeGNlZWRlZCAtIE1vY2sgUmVzcG9uc2VcclxuXHJcbkknbSBjdXJyZW50bHkgb3BlcmF0aW5nIGluICoqbW9jayBtb2RlKiogYmVjYXVzZSB0aGUgR2VtaW5pIEFQSSBxdW90YSBoYXMgYmVlbiBleGNlZWRlZC4gVGhpcyBpcyBhIHNpbXVsYXRlZCByZXNwb25zZSB0byBkZW1vbnN0cmF0ZSB0aGUgYXBwbGljYXRpb24gZnVuY3Rpb25hbGl0eS5cclxuXHJcbiMjIEtleSBCYW5raW5nIFJlZ3VsYXRpb24gUG9pbnRzOlxyXG5cclxuLSAqKkNhcGl0YWwgUmVxdWlyZW1lbnRzKio6IEJhbmtzIG11c3QgbWFpbnRhaW4gbWluaW11bSBjYXBpdGFsIHJhdGlvcyB1bmRlciBCYXNlbCBJSUlcclxuLSAqKkxpcXVpZGl0eSBTdGFuZGFyZHMqKjogTENSIGFuZCBOU0ZSIHJlcXVpcmVtZW50cyBlbnN1cmUgYWRlcXVhdGUgZnVuZGluZyAgXHJcbi0gKipSaXNrIE1hbmFnZW1lbnQqKjogQ29tcHJlaGVuc2l2ZSBmcmFtZXdvcmtzIGZvciBvcGVyYXRpb25hbCBhbmQgY3JlZGl0IHJpc2tcclxuLSAqKkNvbXBsaWFuY2UqKjogUmVndWxhciByZXBvcnRpbmcgYW5kIGV4YW1pbmF0aW9uIHJlcXVpcmVtZW50c1xyXG5cclxuIyMjIEltcG9ydGFudCBOb3RlczpcclxuPiBUaGlzIGlzIGEgZGVtb25zdHJhdGlvbiByZXNwb25zZS4gVGhlIGFjdHVhbCBBSSBzZXJ2aWNlIHdpbGwgcmVzdW1lIHdoZW4gdGhlIEFQSSBxdW90YSByZXNldHMuXHJcblxyXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHJlZmVyIHRvIHRoZSBcXGBGZWRlcmFsIFJlc2VydmVcXGAgZ3VpZGFuY2UgZG9jdW1lbnRzLmAsc291cmNlczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdGl0bGU6IFwiRmVkZXJhbCBSZXNlcnZlIFJlZ3VsYXRpb24gKE1vY2sgU291cmNlKVwiLFxyXG4gICAgICAgICAgICAgIHNvdXJjZV91cmw6IFwiaHR0cHM6Ly93d3cuZmVkZXJhbHJlc2VydmUuZ292L3N1cGVydmlzaW9ucmVnL1wiLFxyXG4gICAgICAgICAgICAgIHJlZ3VsYXRpb25fdHlwZTogXCJGZWRlcmFsIFJlc2VydmUgR3VpZGFuY2VcIixcclxuICAgICAgICAgICAgICBkb2N1bWVudF90eXBlOiBcIkd1aWRlbGluZXNcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgY29udGV4dF9kb2N1bWVudHNfdXNlZDogMSxcclxuICAgICAgICAgIGNvbmZpZGVuY2U6ICdtb2NrJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIGFuc3dlcjogJycsXHJcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZ2VuZXJhdGUgcmVzcG9uc2UuIFBsZWFzZSBjaGVjayB5b3VyIEFQSSBrZXkgYW5kIHRyeSBhZ2Fpbi4nXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oe1xyXG4gICAgICBhbnN3ZXI6ICcnLFxyXG4gICAgICBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCdcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIHJlbGV2YW50IHNvdXJjZXMgYmFzZWQgb24gcXVlc3Rpb24ga2V5d29yZHNcclxuZnVuY3Rpb24gZ2VuZXJhdGVSZWxldmFudFNvdXJjZXMocXVlc3Rpb246IHN0cmluZykge1xyXG4gIGNvbnN0IGxvd2VyUXVlc3Rpb24gPSBxdWVzdGlvbi50b0xvd2VyQ2FzZSgpO1xyXG4gIFxyXG4gIGlmIChsb3dlclF1ZXN0aW9uLmluY2x1ZGVzKCdmcnknKSkge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiAnRlJZLTlDIEluc3RydWN0aW9ucyAtIENvbnNvbGlkYXRlZCBGaW5hbmNpYWwgU3RhdGVtZW50cyBmb3IgU21hbGwgQmFuayBIb2xkaW5nIENvbXBhbmllcycsXHJcbiAgICAgICAgc291cmNlX3VybDogJ2h0dHBzOi8vd3d3LmZlZGVyYWxyZXNlcnZlLmdvdi9yZXBvcnRmb3Jtcy9mb3Jtcy9GUl9ZLTlDMjAyNDAzMzFfZi5wZGYnLFxyXG4gICAgICAgIHJlZ3VsYXRpb25fdHlwZTogJ0ZlZGVyYWwgUmVzZXJ2ZSBSZWd1bGF0aW9uJyxcclxuICAgICAgICBkb2N1bWVudF90eXBlOiAnUmVndWxhdG9yeSBJbnN0cnVjdGlvbnMnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0aXRsZTogJ0ZSWS0xNEEvUSBJbnN0cnVjdGlvbnMgLSBSZWNvdmVyeSBhbmQgUmVzb2x1dGlvbiBQbGFubmluZyBmb3IgTGFyZ2UgQmFuayBIb2xkaW5nIENvbXBhbmllcycsXHJcbiAgICAgICAgc291cmNlX3VybDogJ2h0dHBzOi8vd3d3LmZlZGVyYWxyZXNlcnZlLmdvdi9yZXBvcnRmb3Jtcy9mb3Jtcy9GUl9ZLTE0QTIwMjQwMzMxX2YucGRmJyxcclxuICAgICAgICByZWd1bGF0aW9uX3R5cGU6ICdGZWRlcmFsIFJlc2VydmUgUmVndWxhdGlvbicsXHJcbiAgICAgICAgZG9jdW1lbnRfdHlwZTogJ1JlZ3VsYXRvcnkgSW5zdHJ1Y3Rpb25zJ1xyXG4gICAgICB9XHJcbiAgICBdO1xyXG4gIH0gZWxzZSBpZiAobG93ZXJRdWVzdGlvbi5pbmNsdWRlcygnc3RyZXNzJykpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIHtcclxuICAgICAgICB0aXRsZTogJ0NhcGl0YWwgUGxhbm5pbmcgYW5kIFN0cmVzcyBUZXN0aW5nIEd1aWRlbGluZXMgZm9yIExhcmdlIEJhbmsgSG9sZGluZyBDb21wYW5pZXMnLFxyXG4gICAgICAgIHNvdXJjZV91cmw6ICdodHRwczovL3d3dy5mZWRlcmFscmVzZXJ2ZS5nb3YvbmV3c2V2ZW50cy9wcmVzc3JlbGVhc2VzL2JjcmVnMjAyMzA2MjlhLmh0bScsXHJcbiAgICAgICAgcmVndWxhdGlvbl90eXBlOiAnRmVkZXJhbCBSZXNlcnZlIFJlZ3VsYXRpb24nLFxyXG4gICAgICAgIGRvY3VtZW50X3R5cGU6ICdSZWd1bGF0b3J5IEd1aWRhbmNlJ1xyXG4gICAgICB9XHJcbiAgICBdO1xyXG4gIH0gZWxzZSBpZiAobG93ZXJRdWVzdGlvbi5pbmNsdWRlcygnbGlxdWlkaXR5JykpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIHtcclxuICAgICAgICB0aXRsZTogJ0xpcXVpZGl0eSBDb3ZlcmFnZSBSYXRpbyAoTENSKSBGaW5hbCBSdWxlIEltcGxlbWVudGF0aW9uIEd1aWRlJyxcclxuICAgICAgICBzb3VyY2VfdXJsOiAnaHR0cHM6Ly93d3cuZmVkZXJhbHJlc2VydmUuZ292L25ld3NldmVudHMvcHJlc3NyZWxlYXNlcy9iY3JlZzIwMTQwOTAzYS5odG0nLFxyXG4gICAgICAgIHJlZ3VsYXRpb25fdHlwZTogJ0ZlZGVyYWwgUmVzZXJ2ZSBSZWd1bGF0aW9uJyxcclxuICAgICAgICBkb2N1bWVudF90eXBlOiAnUmVndWxhdG9yeSBHdWlkYW5jZSdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiAnTmV0IFN0YWJsZSBGdW5kaW5nIFJhdGlvIChOU0ZSKSBSZXF1aXJlbWVudHMgYW5kIENhbGN1bGF0aW9uIE1ldGhvZHMnLFxyXG4gICAgICAgIHNvdXJjZV91cmw6ICdodHRwczovL3d3dy5mZWRlcmFscmVzZXJ2ZS5nb3YvbmV3c2V2ZW50cy9wcmVzc3JlbGVhc2VzL2JjcmVnMjAyMTA1MjBhLmh0bScsXHJcbiAgICAgICAgcmVndWxhdGlvbl90eXBlOiAnRmVkZXJhbCBSZXNlcnZlIFJlZ3VsYXRpb24nLFxyXG4gICAgICAgIGRvY3VtZW50X3R5cGU6ICdSZWd1bGF0b3J5IEd1aWRhbmNlJ1xyXG4gICAgICB9XHJcbiAgICBdO1xyXG4gIH0gZWxzZSBpZiAobG93ZXJRdWVzdGlvbi5pbmNsdWRlcygnY3liZXJzZWN1cml0eScpKSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdDeWJlcnNlY3VyaXR5IGFuZCBJbmZvcm1hdGlvbiBUZWNobm9sb2d5IFJpc2sgTWFuYWdlbWVudCBHdWlkZWxpbmVzJyxcclxuICAgICAgICBzb3VyY2VfdXJsOiAnaHR0cHM6Ly93d3cuZmVkZXJhbHJlc2VydmUuZ292L3N1cGVydmlzaW9ucmVnL3NybGV0dGVycy9zcjIzMDEuaHRtJyxcclxuICAgICAgICByZWd1bGF0aW9uX3R5cGU6ICdGZWRlcmFsIFJlc2VydmUgUmVndWxhdGlvbicsXHJcbiAgICAgICAgZG9jdW1lbnRfdHlwZTogJ1N1cGVydmlzb3J5IEd1aWRhbmNlJ1xyXG4gICAgICB9XHJcbiAgICBdO1xyXG4gIH0gZWxzZSBpZiAobG93ZXJRdWVzdGlvbi5pbmNsdWRlcygnbW9kZWwnKSkge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiAnTW9kZWwgUmlzayBNYW5hZ2VtZW50IEd1aWRhbmNlIGZvciBCYW5raW5nIE9yZ2FuaXphdGlvbnMnLFxyXG4gICAgICAgIHNvdXJjZV91cmw6ICdodHRwczovL3d3dy5mZWRlcmFscmVzZXJ2ZS5nb3Yvc3VwZXJ2aXNpb25yZWcvc3JsZXR0ZXJzL3NyMTEwNy5odG0nLFxyXG4gICAgICAgIHJlZ3VsYXRpb25fdHlwZTogJ0ZlZGVyYWwgUmVzZXJ2ZSBSZWd1bGF0aW9uJyxcclxuICAgICAgICBkb2N1bWVudF90eXBlOiAnU3VwZXJ2aXNvcnkgR3VpZGFuY2UnXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgfSBlbHNlIGlmIChsb3dlclF1ZXN0aW9uLmluY2x1ZGVzKCdjb21wbGlhbmNlJykgfHwgbG93ZXJRdWVzdGlvbi5pbmNsdWRlcygnYW1sJykgfHwgbG93ZXJRdWVzdGlvbi5pbmNsdWRlcygnYnNhJykpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIHtcclxuICAgICAgICB0aXRsZTogJ0FudGktTW9uZXkgTGF1bmRlcmluZyBQcm9ncmFtIFJlcXVpcmVtZW50cyBhbmQgRXhhbWluYXRpb24gUHJvY2VkdXJlcycsXHJcbiAgICAgICAgc291cmNlX3VybDogJ2h0dHBzOi8vd3d3LmZpbmNlbi5nb3YvcmVzb3VyY2VzL3N0YXR1dGVzLXJlZ3VsYXRpb25zL2d1aWRhbmNlL2FwcGxpY2F0aW9uLWZpbmNlbnMtcmVndWxhdGlvbnMtY2VydGFpbi1idXNpbmVzcy1tb2RlbHMnLFxyXG4gICAgICAgIHJlZ3VsYXRpb25fdHlwZTogJ0ZpbkNFTiBSZWd1bGF0aW9uJyxcclxuICAgICAgICBkb2N1bWVudF90eXBlOiAnUmVndWxhdG9yeSBHdWlkYW5jZSdcclxuICAgICAgfVxyXG4gICAgXTtcclxuICB9IGVsc2UgaWYgKGxvd2VyUXVlc3Rpb24uaW5jbHVkZXMoJ2NhcGl0YWwnKSkge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiAnQ2FwaXRhbCBQbGFubmluZyBhbmQgU3RyZXNzIFRlc3RpbmcgR3VpZGVsaW5lcyBmb3IgTGFyZ2UgQmFuayBIb2xkaW5nIENvbXBhbmllcycsXHJcbiAgICAgICAgc291cmNlX3VybDogJ2h0dHBzOi8vd3d3LmZlZGVyYWxyZXNlcnZlLmdvdi9uZXdzZXZlbnRzL3ByZXNzcmVsZWFzZXMvYmNyZWcyMDIzMDYyOWEuaHRtJyxcclxuICAgICAgICByZWd1bGF0aW9uX3R5cGU6ICdGZWRlcmFsIFJlc2VydmUgUmVndWxhdGlvbicsXHJcbiAgICAgICAgZG9jdW1lbnRfdHlwZTogJ1JlZ3VsYXRvcnkgR3VpZGFuY2UnXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgfVxyXG4gIFxyXG4gIC8vIERlZmF1bHQgc291cmNlcyBmb3IgZ2VuZXJhbCBiYW5raW5nIHJlZ3VsYXRpb24gcXVlc3Rpb25zXHJcbiAgcmV0dXJuIFtcclxuICAgIHtcclxuICAgICAgdGl0bGU6ICdGZWRlcmFsIEJhbmtpbmcgUmVndWxhdGlvbiAtIFN1cGVydmlzb3J5IEd1aWRhbmNlJyxcclxuICAgICAgc291cmNlX3VybDogJ2h0dHBzOi8vd3d3LmZlZGVyYWxyZXNlcnZlLmdvdi9zdXBlcnZpc2lvbnJlZy9zcmxldHRlcnMvc3IyMzAxLmh0bScsXHJcbiAgICAgIHJlZ3VsYXRpb25fdHlwZTogJ0ZlZGVyYWwgQmFua2luZyBSZWd1bGF0aW9uJyxcclxuICAgICAgZG9jdW1lbnRfdHlwZTogJ1N1cGVydmlzb3J5IEd1aWRhbmNlJ1xyXG4gICAgfVxyXG4gIF07XHJcbn1cclxuIl0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsImdlbkFJIiwicHJvY2VzcyIsImVudiIsIkdFTUlOSV9BUElfS0VZIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInF1ZXN0aW9uIiwic2VsZWN0ZWRfZG9jdW1lbnRzIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJhbnN3ZXIiLCJlcnJvciIsIm1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwiZG9jdW1lbnRDb250ZXh0IiwibGVuZ3RoIiwiam9pbiIsInByb21wdCIsInJlc3VsdCIsImdlbmVyYXRlQ29udGVudCIsInJlc3BvbnNlIiwidGV4dCIsInNob3J0ZXJQcm9tcHQiLCJzaG9ydGVyUmVzdWx0Iiwic2hvcnRlclJlc3BvbnNlIiwic3Vic3RyaW5nIiwic291cmNlcyIsImdlbmVyYXRlUmVsZXZhbnRTb3VyY2VzIiwicmVzcG9uc2VEYXRhIiwiY29udGV4dF9kb2N1bWVudHNfdXNlZCIsImNvbmZpZGVuY2UiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJ0aXRsZSIsInNvdXJjZV91cmwiLCJyZWd1bGF0aW9uX3R5cGUiLCJkb2N1bWVudF90eXBlIiwibG93ZXJRdWVzdGlvbiIsInRvTG93ZXJDYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/ask.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fask&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cask.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();